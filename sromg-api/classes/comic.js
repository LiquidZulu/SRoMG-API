class Comic{constructor(document){let comic=document.getElementsByTagName('IMG')[1];let author=(()=>{if(document.getElementsByTagName('A')[20].href.substring(0,28)=='/garfield/author.php?author='){return document.getElementsByTagName('A')[20]}else{for(let a of document.getElementsByTagName('A')){if(a.href.substring(0,28)=='/garfield/author.php?author='){return a}}}return{innerHTML:undefined,href:''}})();let ps=document.getElementsByTagName('P');let authorWritesI=(()=>{for(var i=0;i<ps.length;i+=1){if(ps[i].innerHTML==`<b>The author writes:</b>`){return i}}return undefined})();this.name=comic.alt;this.number=Number(comic.src.split('comics/')[1].split('.')[0]);this.image={src:`http://www.mezzacotta.net${comic.src }`,x:Number(comic.width),y:Number(comic.height)};this.author={name:author.innerHTML,number:Number(author.href.split('=')[1])};this.transcription=document.getElementsByTagName('P')[authorWritesI-1].innerHTML;this.authorWrites=(()=>{let AN='';let cont=true;for(var i=authorWritesI+1;cont;i+=1){if(ps[i]!==undefined&&i<128){if(/\[\[Original/.exec(ps[i].innerHTML)==null&&i<128){AN+=ps[i].innerHTML}else{return AN}}else{return AN}}})();this.originalStrips=(()=>{let strips=[];let stripsDone=[];let as=document.getElementsByTagName('A');for(var a of as){if(/(19|20){1}[0123456789]{2}-[0123456789]{2}-[0123456789]{2}/.test(a.innerHTML)&&stripsDone.indexOf(a.innerHTML)==-1){strips.push({strip:a.innerHTML,href:a.href});stripsDone.push(a.innerHTML)}}return strips})()}get getName(){return this.name}get getNumber(){return this.number}get getImage(){return this.image}get getAuthor(){return this.author}get getTranscription(){return this.transcription}get getAuthorsNote(){return this.authorWrites}get getAuthorWrites(){return this.authorWrites}get getDescription(){return this.authorWrites}get getDesc(){return this.authorWrites}get getOriginalStrips(){return this.originalStrips}get getStrips(){return this.originalStrips}get getComicStrips(){return this.originalStrips}get getComics(){return this.originalStrips}}module.exports=Comic;